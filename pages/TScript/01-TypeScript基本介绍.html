<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、TypeScript基本介绍 | 小女生首页</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/photo.jpg">
    <meta name="description" content="小女生的前端记录">
    
    <link rel="preload" href="/assets/css/0.styles.723d6123.css" as="style"><link rel="preload" href="/assets/js/app.2d1dd0b0.js" as="script"><link rel="preload" href="/assets/js/2.07c258a3.js" as="script"><link rel="preload" href="/assets/js/3.71dfdb29.js" as="script"><link rel="prefetch" href="/assets/js/10.53e90345.js"><link rel="prefetch" href="/assets/js/11.21a5b5ff.js"><link rel="prefetch" href="/assets/js/12.024859e6.js"><link rel="prefetch" href="/assets/js/13.a9dc1bfe.js"><link rel="prefetch" href="/assets/js/14.1ea943f5.js"><link rel="prefetch" href="/assets/js/15.d7d1d2ad.js"><link rel="prefetch" href="/assets/js/16.3dc60ad1.js"><link rel="prefetch" href="/assets/js/17.266395e8.js"><link rel="prefetch" href="/assets/js/18.9ae13edc.js"><link rel="prefetch" href="/assets/js/19.6ddfd93e.js"><link rel="prefetch" href="/assets/js/20.11446c36.js"><link rel="prefetch" href="/assets/js/4.7c3dfb1b.js"><link rel="prefetch" href="/assets/js/5.abcf9e59.js"><link rel="prefetch" href="/assets/js/6.3a87541a.js"><link rel="prefetch" href="/assets/js/7.b7cc106e.js"><link rel="prefetch" href="/assets/js/8.c0828407.js"><link rel="prefetch" href="/assets/js/9.c75cd91a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.723d6123.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/photo.jpg" alt="小女生首页" class="logo"> <span class="site-name can-hide">小女生首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/TScript/01-TypeScript基本介绍.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/folder2/test4.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="/pages/folder1/test3.html" class="nav-link">
  功能演示
</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/TScript/01-TypeScript基本介绍.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/folder2/test4.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="/pages/folder1/test3.html" class="nav-link">
  功能演示
</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/TScript/01-TypeScript基本介绍.html" class="active sidebar-link">01-TypeScript基本介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#一、简介" class="sidebar-link">一、简介</a></li><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#二、javascript-与-typescript-的区别" class="sidebar-link">二、JavaScript 与 TypeScript 的区别</a></li><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#三、开发工具介绍" class="sidebar-link">三、开发工具介绍</a></li><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#四、基础语法" class="sidebar-link">四、基础语法</a></li><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#五、基础类型" class="sidebar-link">五、基础类型</a></li><li class="sidebar-sub-header"><a href="/pages/TScript/01-TypeScript基本介绍.html#六、变量声明" class="sidebar-link">六、变量声明</a></li></ul></li><li><a href="/pages/TScript/02-TypeScript运算符、条件语句、循环、函数、断点调试.html" class="sidebar-link">02-TypeScript运算符、条件语TScript/句、循环、函数、断点调试</a></li><li><a href="/pages/TScript/03-Number、String、Array、Map、Object.html" class="sidebar-link">03-Number、String、Array、Map、ObTScript/ject</a></li><li><a href="/pages/TScript/04-元组、联合类型、接口.html" class="sidebar-link">04-元组、联合类型、接口</a></li><li><a href="/pages/TScript/05-类、对象、命名空间.html" class="sidebar-link">05-类、对象、命名空间</a></li><li><a href="/pages/TScript/06-类型断言、解构、展开.html" class="sidebar-link">06-类型断言、解构、展开</a></li><li><a href="/pages/TScript/07-模块、声明文件.html" class="sidebar-link">07-模块、声明文件</a></li><li><a href="/pages/TScript/08-变量声明.html" class="sidebar-link">08-变量声明</a></li><li><a href="/pages/TScript/案例-下棋游戏（XXOO）.html" class="sidebar-link">案例-下棋游戏（XXOO）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/Vue3/vue3快速上手.html" class="sidebar-link">vue3快速上手</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试题总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/InterviewQuestsSum/面试题.html" class="sidebar-link">面试题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一、typescript基本介绍"><a href="#一、typescript基本介绍" class="header-anchor">#</a> 一、TypeScript基本介绍</h1> <h2 id="一、简介"><a href="#一、简介" class="header-anchor">#</a> 一、简介</h2> <h3 id="_1-1-什么是javascript"><a href="#_1-1-什么是javascript" class="header-anchor">#</a> 1.1 什么是JavaScript?</h3> <p>JavaScript（缩写：JS）是一种运行在客户端（比如：浏览器）中的编程语言。</p> <p>当应用于浏览器时，为网站提供动态交互特性，让网页“动起来”。</p> <p>JavaScript的运行环境：1.<strong>浏览器</strong>；2.<strong>Node.js</strong>。</p> <p>Node.js让JavaScript摆脱了浏览器的束缚，可以实现<strong>服务端</strong>/<strong>桌面端</strong>编程等。</p> <p>其他：微信小程序、微信小游戏等等。</p> <p>总结：JavaScript既能运行在浏览器中，也可以运行在Node.js中，前后端通吃，无所不能。</p> <h3 id="_1-2-什么是typescript"><a href="#_1-2-什么是typescript" class="header-anchor">#</a> 1.2 什么是TypeScript?</h3> <p>TypeScript 是 JavaScript 的一个超集，支持 ECMAScript 6 标准（<a href="https://www.runoob.com/w3cnote/es6-tutorial.html" target="_blank" rel="noopener noreferrer">ES6 教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）。</p> <p>TypeScript 由微软开发的自由和开源的编程语言。</p> <p>TypeScript 设计目标是开发大型应用，它可以编译成纯 JavaScript，编译出来的 JavaScript 可以运行在任何浏览器上。</p> <p>TypeScript 是一种给 JavaScript 添加特性的语言扩展。增加的功能包括：</p> <ul><li>类型批注和编译时类型检查</li> <li>类型推断</li> <li>类型擦除</li> <li>接口</li> <li>枚举</li> <li>Mixin</li> <li>泛型编程</li> <li>名字空间</li> <li>元组</li> <li>Await</li></ul> <p>以下功能是从 ECMA 2015 反向移植而来：</p> <ul><li>类</li> <li>模块</li> <li>lambda 函数的箭头语法</li> <li>可选参数以及默认参数</li></ul> <h2 id="二、javascript-与-typescript-的区别"><a href="#二、javascript-与-typescript-的区别" class="header-anchor">#</a> 二、JavaScript 与 TypeScript 的区别</h2> <p>TypeScript（简称：TS）是JavaScript的<strong>超集</strong>（JS有的TS都有）。</p> <p>TypeScript = <strong>Type</strong> + JavaScript（为JS添加了<strong>类型系统</strong>）。</p> <p>TypeScript 是 JavaScript 的超集，扩展了 JavaScript 的语法，因此现有的 JavaScript 代码可与 TypeScript 一起工作无需任何修改，TypeScript 通过类型注解提供编译时的静态类型检查。</p> <p>TypeScript 可处理已有的 JavaScript 代码，并只对其中的 TypeScript 代码进行编译。</p> <p><img src="/assets/img/01-ts&amp;js.14a5bce9.png" alt=""></p> <p><img src="/assets/img/02-ts&amp;es6&amp;es5.05e08c3b.png" alt=""></p> <h3 id="typescript相比javascript的优势"><a href="#typescript相比javascript的优势" class="header-anchor">#</a> TypeScript相比JavaScript的优势：</h3> <p>JS的类型系统存在“先天缺陷”，绝大部分错误都是类型错误（Uncaught TypeError）。</p> <ul><li>优势一：<strong>类型化思维</strong>，使得开发更加严谨，提前发现错误，<strong>减少改Bug时间</strong>。</li> <li>优势二：<strong>类型系统</strong>提高了代码可读性，并使维护和重构代码更加容易。</li> <li>优势三：补充了<strong>接口、枚举</strong>等开发大型应用时JS缺失的功能。</li></ul> <p><strong>Vue3</strong> 源码使用了TS重写，释放出重要信号：TS是趋势。</p> <p><strong>Angular</strong>默认支持TS；<strong>React</strong>与TS完美配合是很多大型项目的首选。</p> <h2 id="三、开发工具介绍"><a href="#三、开发工具介绍" class="header-anchor">#</a> 三、开发工具介绍</h2> <p>1、写代码的工具：Visual Studio Code（简称：VSCode），微软开发的代码编辑工具。</p> <p>2、运行TS/JS代码的工具：Node.js，一个基于Chrome浏览器V8解析引擎的JavaScript运行环境。</p> <p>3、安装解析TS的工具包</p> <p>问题：为什么要安装这个工具包？</p> <p>答案：</p> <ul><li>Node.js/浏览器，只认识JS代码，不认识TS代码。</li> <li>需要先将TS代码转化为JS，然后就可以在Node.js/浏览器中运行了。</li></ul> <p>npm安装TypeScript</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> typescript

<span class="token comment"># typescript：就是用来解析TS的工具包。提供了tsc命令，实现了TS-&gt;JS的转化。</span>
<span class="token comment"># npm：用来安装前端开发中用到的包，是安装Node.js时自动安装的。</span>
<span class="token comment"># i(install)：表示安装</span>
<span class="token comment"># -g(-global)：全局标识，可以在任意目录中使用该工具。</span>
</code></pre></div><p>安装完成后我们可以使用 <strong>tsc</strong> 命令来执行 TypeScript 的相关代码，以下是查看版本号：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ tsc <span class="token parameter variable">-v</span>
Version <span class="token number">3.2</span>.2
</code></pre></div><p>新建一个app.ts的文件，代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> message<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
</code></pre></div><p>通常我们使用<code>.ts</code>作为TypeScript代码文件的拓展名。然后执行以下命令将TypeScript转换成JavaScript代码：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>tsc app.ts
</code></pre></div><p><img src="/assets/img/03-typescript_compiler.d958cf01.png" alt=""></p> <p>这时候在当前目录下（和app.ts同一目录）就会生成一个app.js文件，代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
</code></pre></div><p>使用node命令来执行app.js文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">node</span> app.js
Hello World
</code></pre></div><p>TypeScript 转换为 JavaScript 过程如下图：</p> <p><img src="/assets/img/04-TypeScriptTransformJavaScript.f93a3d72.png" alt=""></p> <blockquote><p>TypeScript Compiler：TypeScript编译器</p></blockquote> <h3 id="问题-执行tsc命令时报错"><a href="#问题-执行tsc命令时报错" class="header-anchor">#</a> 问题：执行tsc命令时报错</h3> <p>（无法加载文件 C:\Users\Administrator\AppData\Roaming\npm\tsc.ps1,因为在此系统上禁止运行脚本）</p> <p>全局安装了Typescript运行环境,运行时报错：</p> <p><strong>无法加载文件 C:\Users\Administrator\AppData\Roaming\npm\tsc.ps1,因为在此系统上禁止运行脚本</strong>!</p> <p><img src="/assets/img/05-runtscrrror.b02cddf9.png" alt=""></p> <p>解决：</p> <p>以管理员身份运行powerShell(<strong>一定要以管路员身份打开</strong>)：</p> <p><img src="/assets/img/06-powerShell.02130b86.png" alt=""></p> <p>命令行:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ set-ExecutionPolicy RemoteSigned
</code></pre></div><p><img src="/assets/img/07-powerShellOrder.ad1f808a.png" alt=""></p> <p>敲 A 或者 Y 即可，ok，完成！</p> <h3 id="简化执行ts的步骤"><a href="#简化执行ts的步骤" class="header-anchor">#</a> 简化执行TS的步骤</h3> <p>问题：每次修改代码后，都要重复执行两个命令才能执行TS代码，太繁琐。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 执行TS的两个步骤：</span>
$ tsc hello.ts
$ <span class="token function">node</span> hello.js
</code></pre></div><p>简化方式：使用ts-node包，“直接”在Node.js中执行TS代码。</p> <p>安装命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">npm</span> i <span class="token parameter variable">-g</span> ts-node
</code></pre></div><p>解释：ts-node包内部偷偷的将TS-&gt;JS，然后执行JS代码。</p> <p>ts-node包提供了命令ts-node，用来执行TS代码。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ts-node hello.ts
你好
</code></pre></div><h2 id="四、基础语法"><a href="#四、基础语法" class="header-anchor">#</a> 四、基础语法</h2> <h3 id="_1、typescript-保留关键字"><a href="#_1、typescript-保留关键字" class="header-anchor">#</a> 1、TypeScript 保留关键字</h3> <p>TypeScript 保留关键字如下表所示：</p> <table><thead><tr><th>break</th> <th>as</th> <th>catch</th> <th>switch</th></tr></thead> <tbody><tr><td>case</td> <td>if</td> <td>throw</td> <td>else</td></tr> <tr><td>var</td> <td>number</td> <td>string</td> <td>get</td></tr> <tr><td>module</td> <td>type</td> <td>instanceof</td> <td>typeof</td></tr> <tr><td>public</td> <td>private</td> <td>enum</td> <td>export</td></tr> <tr><td>finally</td> <td>for</td> <td>while</td> <td>void</td></tr> <tr><td>null</td> <td>super</td> <td>this</td> <td>new</td></tr> <tr><td>in</td> <td>return</td> <td>true</td> <td>false</td></tr> <tr><td>any</td> <td>extends</td> <td>static</td> <td>let</td></tr> <tr><td>package</td> <td>implements</td> <td>interface</td> <td>function</td></tr> <tr><td>new</td> <td>try</td> <td>yield</td> <td>const</td></tr> <tr><td>continue</td> <td>do</td> <td></td> <td></td></tr></tbody></table> <h3 id="_2、空白和换行"><a href="#_2、空白和换行" class="header-anchor">#</a> 2、空白和换行</h3> <p>TypeScript 会忽略程序中出现的空格、制表符和换行符。</p> <p>空格、制表符通常用来缩进代码，使代码易于阅读和理解。</p> <h3 id="_3、typescript-区分大小写"><a href="#_3、typescript-区分大小写" class="header-anchor">#</a> 3、TypeScript 区分大小写</h3> <p>TypeScript 区分大写和小写字符。</p> <h3 id="_4、分号是可选的"><a href="#_4、分号是可选的" class="header-anchor">#</a> 4、分号是可选的</h3> <p>每行指令都是一段语句，你可以使用分号或不使用， 分号在 TypeScript 中是可选的，建议使用。</p> <p>以下代码都是合法的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Google&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果语句写在同一行则一定需要使用分号来分隔，否则会报错，如：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Google&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4、typescript-注释"><a href="#_4、typescript-注释" class="header-anchor">#</a> 4、TypeScript 注释</h3> <p>注释是一个良好的习惯，虽然很多程序员讨厌注释，但还是建议你在每段代码写上文字说明。</p> <p>注释可以提高程序的可读性。</p> <p>注释可以包含有关程序一些信息，如代码的作者，有关函数的说明等。</p> <p>编译器会忽略注释。</p> <h3 id="_5、typescript-支持两种类型的注释"><a href="#_5、typescript-支持两种类型的注释" class="header-anchor">#</a> 5、TypeScript 支持两种类型的注释</h3> <ul><li><strong>单行注释 ( // )</strong> − 在 // 后面的文字都是注释内容。</li> <li><strong>多行注释 (/* */)</strong> − 这种注释可以跨越多行。</li></ul> <h3 id="_6、typescript与面向对象"><a href="#_6、typescript与面向对象" class="header-anchor">#</a> 6、TypeScript与面向对象</h3> <p>TypeScript是一种面向对象的编程语言。</p> <p>面向对象主要有两个概念：对象和类。</p> <ul><li><strong>对象</strong>：对象是类的一个实例（<strong>对象不是找个女朋友</strong>），有状态和行为。例如，一条狗是一个对象，它的状态有：颜色、名字、品种；行为有：摇尾巴、叫、吃等。</li> <li><strong>类</strong>：类是一个模板，它描述一类对象的行为和状态。</li> <li><strong>方法</strong>：方法是类的操作的实现步骤。</li></ul> <p>TypeScript 面向对象编程实例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Site</span> <span class="token punctuation">{</span>
    <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>以上实例定义了一个类 Site，该类有一个方法 name()，该方法在终端上输出字符串 Runoob。</p> <p>new 关键字创建类的对象，该对象调用方法 name()。</p> <p>编译后生成的 JavaScript 代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> Site <span class="token operator">=</span> <span class="token comment">/** @class */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Site</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Site</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">name</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Site<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行以上 JavaScript 代码，输出结果如下:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Runoob
</code></pre></div><h2 id="五、基础类型"><a href="#五、基础类型" class="header-anchor">#</a> 五、基础类型</h2> <p>TypeScript中的数据类型分为两个类：1.原始类型（基本数据类型） 2.对象类型（复杂数据类型）</p> <p>常用的基本数据类型有5个：number/string/boolean/undefined/null</p> <p>TypeScript 包含的数据类型如下表:</p> <table><thead><tr><th style="text-align:left;">数据类型</th> <th style="text-align:left;">关键字</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">任意类型</td> <td style="text-align:left;">any</td> <td style="text-align:left;">声明为 any 的变量可以为其赋予任意类型的值。<br><code>let a: any = 1</code><br><code>a = '你好'</code><br><code>a = false</code></td></tr> <tr><td style="text-align:left;">数字类型</td> <td style="text-align:left;">number</td> <td style="text-align:left;">双精度 64 位浮点值。它可以用来表示整数和分数。<br><code>let binaryLiteral: number = 0b1010; // 二进制</code><br><code>let octalLiteral: number = 0o744; // 八进制</code><br><code>let decLiteral: number = 6; // 十进制</code><br><code>let hexLiteral: number = 0xf00d; // 十六进制</code></td></tr> <tr><td style="text-align:left;">字符串类型</td> <td style="text-align:left;">string</td> <td style="text-align:left;">一个字符系列，使用单引号（<strong>'</strong>）或双引号（<strong>&quot;</strong>）来表示字符串类型。反引号来定义多行文本和内嵌表达式。<br><code>let myName: string = &quot;Runoob&quot;;</code><br><code>let years: number = 5;</code><br><code>let words: string =</code>您好，今年是 ${ myName} 发布 ​${ years + 1} 周年<code>;</code></td></tr> <tr><td style="text-align:left;">布尔类型</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">表示逻辑值：true 和 false。<br><code>let flag: boolean = true;</code></td></tr> <tr><td style="text-align:left;">数组类型</td> <td style="text-align:left;">无</td> <td style="text-align:left;">声明变量为数组。<br><code>// 在元素类型后面加上[]</code><br><code>let arr: number[] = [1, 2];</code><br><code>// 或者使用数组泛型，Array&lt;元素类型&gt;</code><br><code>let arr: Array&lt;number&gt; = [1, 2];</code></td></tr> <tr><td style="text-align:left;">元组 Tuple</td> <td style="text-align:left;">无</td> <td style="text-align:left;">元组类型用来表示已知元素数量和类型的数组，各元素的类型不必相同，对应位置的类型需要相同。<br><code>let x: [string, number];</code><br><code>x = ['Runoob', 1]; // 运行正常</code><br><code>x = [1, 'Runoob']; // 报错</code><br><code>console.log(x[0]); // 输出 Runoob</code></td></tr> <tr><td style="text-align:left;">枚举</td> <td style="text-align:left;">enum</td> <td style="text-align:left;">枚举类型用于定义数值集合。<br><code>enum Color {Red, Green, Blue};</code><br><code>let c: Color = Color.Blue;</code><br><code>console.log(c); // 输出 2</code></td></tr> <tr><td style="text-align:left;">void</td> <td style="text-align:left;">void</td> <td style="text-align:left;">用于标识方法返回值的类型，表示该方法没有返回值。<br><code>function hello():void { alert(&quot;Hello Runoob&quot;); }</code></td></tr> <tr><td style="text-align:left;">null</td> <td style="text-align:left;">null</td> <td style="text-align:left;">表示对象值缺失。</td></tr> <tr><td style="text-align:left;">undefined</td> <td style="text-align:left;">undefined</td> <td style="text-align:left;">用于初始化变量为一个未定义的值</td></tr> <tr><td style="text-align:left;">never</td> <td style="text-align:left;">never</td> <td style="text-align:left;">never 是其它类型（包括 null 和 undefined）的子类型，代表从不会出现的值。</td></tr></tbody></table> <p>**注意：**TypeScript 和 JavaScript 没有整数类型。</p> <h3 id="any-类型"><a href="#any-类型" class="header-anchor">#</a> Any 类型</h3> <p>任意值是 TypeScript 针对编程时类型不明确的变量使用的一种数据类型，它常用于以下三种情况。</p> <p>1、变量的值会动态改变时，比如来自用户的输入，任意值类型可以让这些变量跳过编译阶段的类型检查，示例代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// 数字类型</span>
x <span class="token operator">=</span> <span class="token string">'I am who I am'</span><span class="token punctuation">;</span>    <span class="token comment">// 字符串类型</span>
x <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment">// 布尔类型</span>
</code></pre></div><p>改写现有代码时，任意值允许在编译时可选择地包含或移除类型检查。你可能认为Object有相似的作用，就像它在其他语言中那样。但是Object类型的变量只是允许你给它赋任意值-但是却不能够在它上面调用任意的方法，即便它真的有这些方法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">ifItExists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 正确，ifItExists方法在运行时可能存在，但这里并不会检查</span>
x<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 正确</span>

<span class="token keyword">let</span> prettySure<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token number">4</span>
prettySure<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Error：类型“Object”上的属性“toFixed”不存在。</span>
</code></pre></div><p>定义存储各种类型数据的数组时，示例代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'fine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token comment">// [1, 100, 'fine']</span>
</code></pre></div><h4 id="任意值的属性和方法"><a href="#任意值的属性和方法" class="header-anchor">#</a> 任意值的属性和方法</h4> <p>在任意值上访问任何属性都是允许的：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'hello'</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span>
</code></pre></div><p>也允许调用任何方法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> anyThing<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">'Tom'</span>
anyThing<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Jerry'</span><span class="token punctuation">)</span>
anyThing<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Jerry'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
anyThing<span class="token punctuation">.</span>myName<span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">)</span>
</code></pre></div><p>可以认为，声明一个变量为任意值之后，对它的任何操作，返回的内容的类型都是任意值。</p> <h4 id="未声明类型的变量"><a href="#未声明类型的变量" class="header-anchor">#</a> 未声明类型的变量</h4> <p>变量如果在声明的时候，未指定其类型，那么它会被识别为任意值类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> something
something <span class="token operator">=</span> <span class="token string">'seven'</span>
something <span class="token operator">=</span> <span class="token number">7</span>

something<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span>
</code></pre></div><p>等价于</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> something<span class="token operator">:</span> <span class="token builtin">any</span>
something <span class="token operator">=</span> <span class="token string">'seven'</span>
something <span class="token operator">=</span> <span class="token number">7</span>

something<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="void"><a href="#void" class="header-anchor">#</a> Void</h3> <p>某种程度上来说，void类型像是与any类型相反，它表示没有任何类型。当一个函数没有返回值时，你通常会见到其返回值类型是void：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">warnUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is my warning message&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>声明一个void类型的变量没有什么大用，因为你只能为它赋予undefined和null：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> unusable<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> unusable2<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 编译通过</span>
<span class="token keyword">let</span> unusable3<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 报错：不能将类型“number”分配给类型“void”。</span>
</code></pre></div><h3 id="null-和-undefined"><a href="#null-和-undefined" class="header-anchor">#</a> Null 和 Undefined</h3> <h4 id="null"><a href="#null" class="header-anchor">#</a> null</h4> <p>在 JavaScript 中 null 表示 &quot;什么都没有&quot;。</p> <p>null是一个只有一个值的特殊类型。表示一个空对象引用。</p> <p>用 typeof 检测 null 返回是 object。</p> <h4 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h4> <p>在 JavaScript 中, undefined 是一个没有设置值的变量。</p> <p>typeof 一个没有值的变量会返回 undefined。</p> <p>Null 和 Undefined 是其他任何类型（包括 void）的子类型，可以赋值给其它类型，如数字类型，此时，赋值后的类型会变成 null 或 undefined。而在TypeScript中启用严格的空校验（--strictNullChecks）特性，就可以使得null 和 undefined 只能被赋值给 void 或本身对应的类型，示例代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 不启用 --strictNullChecks</span>
<span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token comment">// 编译通过</span>
x <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 编译通过</span>

<span class="token comment">// 启用 --strictNullChecks</span>
<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 运行正确</span>
x <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>    <span class="token comment">// 运行错误</span>
x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">// 运行错误</span>
</code></pre></div><p>上面的例子中变量 x 只能是数字类型。如果一个类型可能出现 null 或 undefined， 可以用 | 来支持多种类型，示例代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 启用 --strictNullChecks</span>
<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 运行正确</span>
x <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>    <span class="token comment">// 运行正确</span>
x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">// 运行正确</span>
</code></pre></div><p>与<code>void</code>的区别是，<code>undefined</code>和<code>null</code>是所有类型的子类型。也就是说<code>undefined</code>类型的变量，可以赋值给<code>number</code>类型的变量，而<code>void</code>类型的变量不能赋值给<code>number</code>类型的变量。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>

<span class="token comment">// 这样也不会报错</span>
<span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> u

<span class="token comment">// 类型“void”不能分配给类型“number”。</span>
<span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> u
</code></pre></div><h3 id="never-类型"><a href="#never-类型" class="header-anchor">#</a> never 类型</h3> <p>never 是任何类型（包括 null 和 undefined）的子类型，代表从不会出现的值，可以赋值给任何类型。然而，<em>没有</em>类型是<code>never</code>的子类型或可以赋值给<code>never</code>类型（除了<code>never</code>本身之外）。 即使 <code>any</code>也不可以赋值给<code>never</code>。</p> <p>在函数中它通常表现为抛出异常或无法执行到终止点（例如无限循环）。</p> <p>下面是一些返回never类型的函数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 返回never的函数抛出异常</span>
<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 推断的返回值类型为never</span>
<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Something failed&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回never的函数必须存在无法达到的终点</span>
funcion <span class="token function">infinteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token comment">// 运行错误，数字类型不能转为 never 类型</span>
x <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>

<span class="token comment">// 运行正确，never 类型可以赋值给 never类型</span>
x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'exception'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 运行正确，never 类型可以赋值给 数字类型</span>
y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'exception'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 返回值为 never 的函数可以是抛出异常的情况</span>
<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回值为 never 的函数可以是无法被执行到的终止点的情况</span>
<span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="enum-枚举"><a href="#enum-枚举" class="header-anchor">#</a> enum 枚举</h3> <p>enum类型是对JavaScript标准数据类型的一个补充。像C#等其他语言一样，使用枚举类型可以为一组数值赋予友好的名字。</p> <p>特点：</p> <ul><li><p>默认情况下，从0开始为元素编号：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div></li> <li><p>也可以改成从指定编号开始：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div></li> <li><p>如果从中间指定编号，那么在指定编号之前按照从0开始的顺序排，没有的为undefined</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Green <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> r<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token keyword">let</span> g<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green <span class="token comment">// 2</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue <span class="token comment">// 3</span>
</code></pre></div></li> <li><p>或者，全部都采用手动赋值：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Blue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> r<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red <span class="token comment">// 1</span>
<span class="token keyword">let</span> g<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green <span class="token comment">// 2</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue <span class="token comment">// 4</span>
</code></pre></div></li> <li><p>枚举类型提供的一个便利是你可以由枚举的值得到它的名字。例如，我们知道数值为2，但是不确定它映射到Color里的哪个名字，我们可以查找相应的名字：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> colorName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> Color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// Green</span>

<span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Green <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Blue<span class="token punctuation">}</span>
<span class="token keyword">let</span> colorName1<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> Color<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// Red</span>
<span class="token keyword">let</span> colorName2<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> Color<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// undefined</span>
</code></pre></div></li></ul> <p>注意情况：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token function-variable function">getValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> List <span class="token punctuation">{</span>
  <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">B</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment">// 此处必须要初始化值，不然编译不通过</span>
  <span class="token constant">C</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>List<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>List<span class="token punctuation">.</span><span class="token constant">B</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>List<span class="token punctuation">.</span><span class="token constant">C</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><p>A的值是被计算出来的。注意：如果某个属性的值是被计算出来的，那么它后面一位的成员必须要初始化值。</p> <h2 id="六、变量声明"><a href="#六、变量声明" class="header-anchor">#</a> 六、变量声明</h2> <h3 id="_1、typescript变量的命名规则"><a href="#_1、typescript变量的命名规则" class="header-anchor">#</a> 1、TypeScript变量的命名规则</h3> <ul><li>变量名称可以包含数字、字母、下划线（_）、美元符号（$），并且不能以数字开头。</li></ul> <h3 id="_2、四种声明变量的方式"><a href="#_2、四种声明变量的方式" class="header-anchor">#</a> 2、四种声明变量的方式</h3> <p>1.声明变量的类型及初始值：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> <span class="token punctuation">[</span>变量名<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span>类型<span class="token punctuation">]</span> <span class="token operator">=</span> 值

例：
<span class="token keyword">var</span> uname<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Runoob&quot;</span>
</code></pre></div><p>2.声明变量的类型，但没有初始值，变量值会设置为undefined:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> <span class="token punctuation">[</span>变量名<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span>类型<span class="token punctuation">]</span>

例：
<span class="token keyword">var</span> uname<span class="token operator">:</span><span class="token builtin">string</span>
</code></pre></div><p>3.声明变量并初始值，但不设置类型，该变量可以是任意类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> <span class="token punctuation">[</span>变量名<span class="token punctuation">]</span> <span class="token operator">=</span> 值

例：
<span class="token keyword">var</span> uname <span class="token operator">=</span> <span class="token string">&quot;Runoob&quot;</span>
</code></pre></div><p>4.声明变量没有设置类型和初始值，类型是any任意类型，默认初始值为undefined:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> <span class="token punctuation">[</span>变量名<span class="token punctuation">]</span>

例：
<span class="token keyword">var</span> uname
</code></pre></div><blockquote><p>变量不要使用name否则会与DOM中的全局window对象下的name属性出现了重名。</p></blockquote> <p>TypeScript遵循强类型，如果将不同的类型赋值给变量会编译错误，如下实例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> num<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>  <span class="token comment">// 这个代码会编译错误</span>
</code></pre></div><p>类型注解：是一种为变量添加类型约束的方式</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span>
<span class="token comment">// :number 就是类型注解</span>
</code></pre></div><p>重要：约定了什么类型，就只能给变量赋什么类型的值</p> <h3 id="_3、类型推断"><a href="#_3、类型推断" class="header-anchor">#</a> 3、类型推断</h3> <p>当类型没有给出时，TypeScript编译器利用类型推断来推断类型。</p> <p>如果由于缺乏声明而不能推断出类型，那么它的类型被视作默认的动态any类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">// 类型推断为 number</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;num 变量的值为 &quot;</span><span class="token operator">+</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> 
num <span class="token operator">=</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">;</span>    <span class="token comment">// 编译错误</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>第一行代码声明了变量 num 并设置初始值为 2。 注意变量声明没有指定类型。因此，程序使用类型推断来确定变量的数据类型，第一次赋值为 2，<strong>num</strong> 设置为 number 类型。</p></li> <li><p>第三行代码，当我们再次为变量设置字符串类型的值时，这时编译会错误。因为变量已经设置为了 number 类型。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>error TS2322: Type <span class="token string">'&quot;12&quot;'</span> is not assignable to <span class="token builtin class-name">type</span> <span class="token string">'number'</span><span class="token builtin class-name">.</span>
</code></pre></div></li></ul> <p>如果定义的时候没有赋值，不管之后有没有赋值，都会被推断成<code>any</code>类型而完全不被类型检查：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> myFavoriteNumber
myFavoriteNumber <span class="token operator">=</span> <span class="token string">'seven'</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span>
</code></pre></div><p>在TS中，某些没有明确指出类型的地方，类型推论会帮助提供类型。</p> <p>换句话说：由于类型推论的存在，这些地方，类型注解可以省略不写！</p> <p>发生类型推论的2种常见场景：</p> <ol><li>声明变量并初始化时</li> <li>决定函数返回值时</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment">// =&gt; let age = 18</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2 <span class="token punctuation">}</span>
<span class="token comment">// =&gt;</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2 <span class="token punctuation">}</span>

<span class="token comment">// 说明：如果先声明变量后赋值，此时变量的类型默认是 any，可以为其赋任意的值，此时应该在声明变量时指定。</span>
<span class="token keyword">let</span> n
n <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment">// ok</span>
n <span class="token operator">=</span> <span class="token string">'雅俗共赏'</span> <span class="token comment">// ok</span>
</code></pre></div><p>注意：这两种情况下，类型注解可以省略不写！</p> <p>推荐：能省略类型注解的地方，就省略（充分利用TS类型推论的能力，提升开发效率）</p> <p>学习的时候，培养大家去建立类型思维；出师了，可以去繁就简。</p> <h3 id="_4、变量作用域"><a href="#_4、变量作用域" class="header-anchor">#</a> 4、变量作用域</h3> <p>变量作用域指定了变量定义的位置。程序中变量的可用性由变量作用域决定。</p> <p>TypeScript有三种作用域：</p> <ul><li><strong>全局作用域</strong> − 全局变量定义在程序结构的外部，它可以在你代码的任何位置使用。</li> <li><strong>类作用域</strong> − 这个变量也可以称为 <strong>字段</strong>。类变量声明在一个类里头，但在类的方法外面。 该变量可以通过类的对象来访问。类变量也可以是静态的，静态的变量可以通过类名直接访问。</li> <li><strong>局部作用域</strong> − 局部变量，局部变量只能在声明它的一个代码块（如：方法）中使用。</li></ul> <p>例：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> global_num <span class="token operator">=</span> <span class="token number">12</span>          <span class="token comment">// 全局变量</span>
<span class="token keyword">class</span> <span class="token class-name">Numbers</span> <span class="token punctuation">{</span> 
   num_val <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>             <span class="token comment">// 实例变量</span>
   <span class="token keyword">static</span> sval <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>         <span class="token comment">// 静态变量</span>
   
   <span class="token function">storeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span> 
      <span class="token keyword">var</span> local_num <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span>    <span class="token comment">// 局部变量</span>
   <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;全局变量为: &quot;</span><span class="token operator">+</span>global_num<span class="token punctuation">)</span>  
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Numbers<span class="token punctuation">.</span>sval<span class="token punctuation">)</span>   <span class="token comment">// 静态变量</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;实例变量: &quot;</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>num_val<span class="token punctuation">)</span>
</code></pre></div><p>以上代码使用tsc命令编译为JavaScript代码为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> global_num <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">// 全局变量</span>
<span class="token keyword">var</span> Numbers <span class="token operator">=</span> <span class="token comment">/** @class */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>num_val <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">// 实例变量</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Numbers</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">storeNum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> local_num <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">// 局部变量</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    Numbers<span class="token punctuation">.</span>sval <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 静态变量</span>
    <span class="token keyword">return</span> Numbers<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;全局变量为: &quot;</span> <span class="token operator">+</span> global_num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Numbers<span class="token punctuation">.</span>sval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 静态变量</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;实例变量: &quot;</span> <span class="token operator">+</span> obj<span class="token punctuation">.</span>num_val<span class="token punctuation">)</span><span class="token punctuation">;</span>

输出结果为：
<span class="token literal-property property">全局变量为</span><span class="token operator">:</span> <span class="token number">12</span>
<span class="token number">10</span>
<span class="token literal-property property">实例变量</span><span class="token operator">:</span> <span class="token number">13</span>

在方法外部访问局部变量会报错：
error <span class="token constant">TS2322</span><span class="token operator">:</span> Could not find symbol <span class="token string">'local_num'</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="_5、var、let和const"><a href="#_5、var、let和const" class="header-anchor">#</a> 5、var、let和const</h3> <h4 id="var声明"><a href="#var声明" class="header-anchor">#</a> <code>var</code>声明</h4> <p>作用域规则：<code>var</code>声明可以在包含它的函数，模块，命名空间或全局作用域内部任何位置被访问，包含它的代码块对此没有什么影响。有些人称此为“<code>var</code>作用域或函数作用域”。函数参数也是用函数作用域。</p> <p>这些作用域规则可能回引发一些错误。其中之一就是，多次声明同一个变量并不会报错：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sumMatrix</span><span class="token punctuation">(</span>matrix<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> currentRow <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> currentRow<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> currentRow<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sumMatrix</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
<span class="token comment">// 里层循环执行完毕后，i的值为3，此时：i &lt; matrix.length条件不成立，退出循环。</span>
</code></pre></div><p>这里很容易看出一些问题，里层的<code>for</code>循环回覆盖变量<code>i</code>，因为所有<code>i</code>都引用相同的函数作用域内的变量。</p> <h4 id="let声明"><a href="#let声明" class="header-anchor">#</a> <code>let</code>声明</h4> <p>作用域规则：当使用<code>let</code>声明一个变量，它使用的是词法作用域或块作用域。不同于使用<code>var</code>声明的变量那样可以在包含它们的函数外部访问，块作用域变量在包含它们的块或<code>for</code>循环之外是不能访问的。</p> <p>拥有块级作用域的变量的另一个特点是，它们不能在被声明之前读或写。 虽然这些变量始终“存在”于它们的作用域里，但在直到声明它的代码之前的区域都属于 <em>暂时性死区</em>。 它只是用来说明我们不能在 <code>let</code>语句之前访问它们，幸运的是TypeScript可以告诉我们这些信息。</p> <p>在一个嵌套作用域里引入一个新名字的行为称作屏蔽。它是一把双刃剑，它可能会不小心引入新问题，同时也可能会解决一些错误。例如，假设我们现在用<code>let</code>重写之前的<code>sumMatrix</code>函数。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sumMatrix</span><span class="token punctuation">(</span>matrix<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> currentRow <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> currentRow<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> currentRow<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sumMatrix</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 21</span>
</code></pre></div><p>这个版本的循环能得到正确的结果，因为内层循环的<code>i</code>可以屏蔽掉外层循环的<code>i</code>。</p> <p>通常来将应该避免使用屏蔽，因为我们需要写出清晰的代码。同时也有些场景适合利用它，你需要好好打算一下。</p> <h4 id="const声明"><a href="#const声明" class="header-anchor">#</a> <code>const</code>声明</h4> <p><code>const</code>声明是声明变量的另一种方式。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">9</span>
</code></pre></div><p>与<code>let</code>声明相似，它拥有与<code>let</code>相同的作用域规则，但是不能对它们重新赋值。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> numLivesForCat <span class="token operator">=</span> <span class="token number">9</span>
<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Aurora'</span><span class="token punctuation">,</span>
    numLives<span class="token operator">:</span> numLivesForCat
<span class="token punctuation">}</span>

<span class="token comment">// Error</span>
kitty <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Danielle&quot;</span><span class="token punctuation">,</span>
    numLives<span class="token operator">:</span> numLivesForCat
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// all &quot;okay&quot;</span>
kitty<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Rory&quot;</span><span class="token punctuation">;</span>
kitty<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Kitty&quot;</span><span class="token punctuation">;</span>
kitty<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">;</span>
kitty<span class="token punctuation">.</span>numLives<span class="token operator">--</span><span class="token punctuation">;</span>
</code></pre></div><p><code>const</code>变量的内部状态是可修改的。实际上，TypeScript允许你将对象的成员设置成只读的。</p> <p><code>let</code> vs. <code>const</code></p> <p>使用<a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege" target="_blank" rel="noopener noreferrer">最小特权原则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，所有变量除了你计划去修改的都应该使用<code>const</code>。 基本原则就是如果一个变量不需要对它写入，那么其它使用这些代码的人也不能够写入它们，并且要思考为什么会需要对这些变量重新赋值。 使用 <code>const</code>也可以让我们更容易的推测数据的流动。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/TScript/02-TypeScript运算符、条件语句、循环、函数、断点调试.html">
        02-TypeScript运算符、条件语TScript/句、循环、函数、断点调试
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2d1dd0b0.js" defer></script><script src="/assets/js/2.07c258a3.js" defer></script><script src="/assets/js/3.71dfdb29.js" defer></script>
  </body>
</html>
